import{_ as i,Z as a,$ as e,a5 as n}from"./framework-1fb77053.js";const t={},g=n(`<h2 id="_1-什么是发布和订阅" tabindex="-1"><a class="header-anchor" href="#_1-什么是发布和订阅" aria-hidden="true">#</a> 1. 什么是发布和订阅</h2><ul><li>Redis 发布订阅（pub/sub）是一种消息通信模式：发送者（pub）发送消息，订阅者（sub）接收消息</li><li>Redis 客户端可以订阅任意数量的频道</li></ul><h2 id="_2-redis-的发布和订阅" tabindex="-1"><a class="header-anchor" href="#_2-redis-的发布和订阅" aria-hidden="true">#</a> 2. Redis 的发布和订阅</h2><p><strong>（1）客户端可以订阅频道如下图</strong></p><figure><img src="http://img.hl1015.top/blog/image-20211117214435263.png" alt="image-20211117214435263" tabindex="0" loading="lazy"><figcaption>image-20211117214435263</figcaption></figure><p><strong>（2）当给这个频道发布消息后，消息就会发送给订阅的客户端</strong></p><figure><img src="http://img.hl1015.top/blog/image-20211117214504786.png" alt="image-20211117214504786" tabindex="0" loading="lazy"><figcaption>image-20211117214504786</figcaption></figure><h2 id="_3-发布订阅命令行实现" tabindex="-1"><a class="header-anchor" href="#_3-发布订阅命令行实现" aria-hidden="true">#</a> 3. 发布订阅命令行实现</h2><p><strong>（1）打开一个客户端 channel1</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>subscribe channel1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="http://img.hl1015.top/blog/image-20211117221144871.png" alt="image-20211117221144871" tabindex="0" loading="lazy"><figcaption>image-20211117221144871</figcaption></figure><p><strong>（2）打开另一个客户端，给 channel1 发布消息</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>publish channel1 <span class="token string">&quot;hello hkw&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="http://img.hl1015.top/blog/image-20211117222109708.png" alt="image-20211117222109708" tabindex="0" loading="lazy"><figcaption>image-20211117222109708</figcaption></figure><p>返回的 1 是订阅者数量</p><p><strong>（3）打开第一个客户端可以看到的发送的消息</strong></p><figure><img src="http://img.hl1015.top/blog/image-20211117221214886.png" alt="image-20211117221214886" tabindex="0" loading="lazy"><figcaption>image-20211117221214886</figcaption></figure><p>注：发布的消息没有持久化，如果在订阅的客户端收不到 hello，只能收到订阅后发布的消息</p>`,18),s=[g];function r(l,o){return a(),e("div",null,s)}const c=i(t,[["render",r],["__file","redis-5.html.vue"]]);export{c as default};
