import{_ as s,E as h,Z as n,$ as t,a0 as e,a3 as i,a4 as r,a1 as a,a5 as c}from"./framework-1fb77053.js";const l={},o=e("h2",{id:"_1-问题",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-问题","aria-hidden":"true"},"#"),a(" 1. 问题")],-1),_=e("li",null,"容量不够，Redis 如何进行扩容？",-1),u=e("li",null,"并发写操作，Redis 如何分摊？",-1),f=c(`<h2 id="_2-什么是集群" tabindex="-1"><a class="header-anchor" href="#_2-什么是集群" aria-hidden="true">#</a> 2. 什么是集群</h2><ul><li>Redis 集群实现了对 Redis 的水平扩容，即启动 N 个 Redis 节点，将整个数据库分布存储在这 N 个节点中，每个节点存储总数据的 1 / N</li><li>Redis 集群通过分区（partition）来提供一定程度的可用性（availability）：即使集群中有一部分节点失效或者无法进行通讯，集群也可以继续处理命令请求</li></ul><h2 id="_3-删除持久化数据" tabindex="-1"><a class="header-anchor" href="#_3-删除持久化数据" aria-hidden="true">#</a> 3. 删除持久化数据</h2><p>将 rdb，aof 文件都删除掉</p><h2 id="_4-制作-6-个实例-6379-6380-6381-6389-6390-6391" tabindex="-1"><a class="header-anchor" href="#_4-制作-6-个实例-6379-6380-6381-6389-6390-6391" aria-hidden="true">#</a> 4. 制作 6 个实例，6379，6380，6381，6389，6390，6391</h2><h3 id="_4-1-配置基本信息" tabindex="-1"><a class="header-anchor" href="#_4-1-配置基本信息" aria-hidden="true">#</a> 4.1 配置基本信息</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>开启 daemonize <span class="token function">yes</span>
Pid 文件名字
指定端口
Log 文件名字
Dump.rdb 名字
Appendonly 关掉或者换名字
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2-redis-cluster-配置修改" tabindex="-1"><a class="header-anchor" href="#_4-2-redis-cluster-配置修改" aria-hidden="true">#</a> 4.2 redis cluster 配置修改</h3><h3 id="_4-3-修改好-redis6379-conf-文件-拷贝多个redis-conf-文件" tabindex="-1"><a class="header-anchor" href="#_4-3-修改好-redis6379-conf-文件-拷贝多个redis-conf-文件" aria-hidden="true">#</a> 4.3 修改好 redis6379.conf 文件，拷贝多个redis.conf 文件</h3><h3 id="_4-4-使用查找替换修改另外-5-个文件" tabindex="-1"><a class="header-anchor" href="#_4-4-使用查找替换修改另外-5-个文件" aria-hidden="true">#</a> 4.4 使用查找替换修改另外 5 个文件</h3><h3 id="_4-5-启动-6-个-redis-服务" tabindex="-1"><a class="header-anchor" href="#_4-5-启动-6-个-redis-服务" aria-hidden="true">#</a> 4.5 启动 6 个 redis 服务</h3><h2 id="_5-将六个节点合成一个集群" tabindex="-1"><a class="header-anchor" href="#_5-将六个节点合成一个集群" aria-hidden="true">#</a> 5. 将六个节点合成一个集群</h2><h2 id="_6-c-采用集群策略连接-设置数据会自动切换到相应的写主机" tabindex="-1"><a class="header-anchor" href="#_6-c-采用集群策略连接-设置数据会自动切换到相应的写主机" aria-hidden="true">#</a> 6. -c 采用集群策略连接，设置数据会自动切换到相应的写主机</h2><h2 id="_7-通过-cluster-nodes-命令查看集群信息" tabindex="-1"><a class="header-anchor" href="#_7-通过-cluster-nodes-命令查看集群信息" aria-hidden="true">#</a> 7. 通过 cluster nodes 命令查看集群信息</h2><h2 id="_8-redis-cluster-如何分配这六个节点" tabindex="-1"><a class="header-anchor" href="#_8-redis-cluster-如何分配这六个节点" aria-hidden="true">#</a> 8. redis cluster 如何分配这六个节点</h2><h2 id="_9-什么是-slots" tabindex="-1"><a class="header-anchor" href="#_9-什么是-slots" aria-hidden="true">#</a> 9. 什么是 slots</h2><h2 id="_10-在集群中录入值" tabindex="-1"><a class="header-anchor" href="#_10-在集群中录入值" aria-hidden="true">#</a> 10. 在集群中录入值</h2><h2 id="_11-查询集群中的值" tabindex="-1"><a class="header-anchor" href="#_11-查询集群中的值" aria-hidden="true">#</a> 11. 查询集群中的值</h2><h2 id="_12-故障恢复" tabindex="-1"><a class="header-anchor" href="#_12-故障恢复" aria-hidden="true">#</a> 12. 故障恢复</h2><h2 id="_13-集群中的-jedis-开发" tabindex="-1"><a class="header-anchor" href="#_13-集群中的-jedis-开发" aria-hidden="true">#</a> 13. 集群中的 Jedis 开发</h2><h2 id="_14-redis-集群提供的好处" tabindex="-1"><a class="header-anchor" href="#_14-redis-集群提供的好处" aria-hidden="true">#</a> 14. Redis 集群提供的好处</h2><h2 id="_15-redis-集群的不足" tabindex="-1"><a class="header-anchor" href="#_15-redis-集群的不足" aria-hidden="true">#</a> 15. Redis 集群的不足</h2>`,22);function b(x,v){const d=h("font");return n(),t("div",null,[o,e("ul",null,[_,u,e("li",null,[i(d,{color:"red"},{default:r(()=>[a("另外，主从模式、薪火相传模式，主机宕机，导致 ip 地址发生变化，应用程序中配置需要修改对应的主机地址、端口等信息")]),_:1})])]),e("p",null,[a("之前通过代理主机来解决，但是 "),i(d,{color:"red"},{default:r(()=>[a("Redis 3.0")]),_:1}),a(" 中提供了解决方案，就是无中心化集群配置")]),f])}const p=s(l,[["render",b],["__file","redis-15.html.vue"]]);export{p as default};
