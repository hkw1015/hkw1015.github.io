import{_ as n,E as t,Z as s,$ as g,a0 as a,a1 as o,a3 as l,a5 as i}from"./framework-1fb77053.js";const r={},c=i(`<h2 id="_1-本地镜像发布到阿里云流程" tabindex="-1"><a class="header-anchor" href="#_1-本地镜像发布到阿里云流程" aria-hidden="true">#</a> 1. 本地镜像发布到阿里云流程</h2><figure><img src="http://img.hl1015.top/blog/image-20220310142751957.png" alt="image-20220310142751957" tabindex="0" loading="lazy"><figcaption>image-20220310142751957</figcaption></figure><h2 id="_2-镜像的生成方法" tabindex="-1"><a class="header-anchor" href="#_2-镜像的生成方法" aria-hidden="true">#</a> 2. 镜像的生成方法</h2><p>两种方式：</p><ul><li><p><strong><code>docker commit</code></strong></p><ul><li><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> commit <span class="token parameter variable">-m</span><span class="token operator">=</span><span class="token string">&quot;提交的描述信息&quot;</span> <span class="token parameter variable">-a</span><span class="token operator">=</span><span class="token string">&quot;作者&quot;</span> 容器ID 要创建的目标镜像名:标签名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li><li><p>Dockerfile【后面会介绍】</p></li></ul><h2 id="_3-将本地镜像推送到阿里云" tabindex="-1"><a class="header-anchor" href="#_3-将本地镜像推送到阿里云" aria-hidden="true">#</a> 3. 将本地镜像推送到阿里云</h2><h3 id="_3-1-本地素材原型" tabindex="-1"><a class="header-anchor" href="#_3-1-本地素材原型" aria-hidden="true">#</a> 3.1 本地素材原型</h3><figure><img src="http://img.hl1015.top/blog/image-20220310143359007.png" alt="image-20220310143359007" tabindex="0" loading="lazy"><figcaption>image-20220310143359007</figcaption></figure><h3 id="_3-2-登录阿里云-打开控制台" tabindex="-1"><a class="header-anchor" href="#_3-2-登录阿里云-打开控制台" aria-hidden="true">#</a> 3.2 登录阿里云，打开控制台</h3>`,9),p={href:"https://www.aliyun.com/",target:"_blank",rel:"noopener noreferrer"},d=i(`<h3 id="_3-3-创建镜像仓库" tabindex="-1"><a class="header-anchor" href="#_3-3-创建镜像仓库" aria-hidden="true">#</a> 3.3 创建镜像仓库</h3><p>1、进入 <strong>容器镜像服务</strong></p><figure><img src="http://img.hl1015.top/blog/image-20220310143908789.png" alt="image-20220310143908789" tabindex="0" loading="lazy"><figcaption>image-20220310143908789</figcaption></figure><p>2、选择 <strong>个人实例</strong></p><figure><img src="http://img.hl1015.top/blog/image-20220310144035354.png" alt="image-20220310144035354" tabindex="0" loading="lazy"><figcaption>image-20220310144035354</figcaption></figure><p>3、创建 <strong>命名空间</strong></p><figure><img src="http://img.hl1015.top/blog/image-20220310144146270.png" alt="image-20220310144146270" tabindex="0" loading="lazy"><figcaption>image-20220310144146270</figcaption></figure><p>4、创建 <strong>镜像仓库</strong></p><figure><img src="http://img.hl1015.top/blog/image-20220310144558236.png" alt="image-20220310144558236" tabindex="0" loading="lazy"><figcaption>image-20220310144558236</figcaption></figure><figure><img src="http://img.hl1015.top/blog/image-20220310144649498.png" alt="image-20220310144649498" tabindex="0" loading="lazy"><figcaption>image-20220310144649498</figcaption></figure><p>5、进入管理界面<strong>获得脚本</strong></p><figure><img src="http://img.hl1015.top/blog/image-20220310144816793.png" alt="image-20220310144816793" tabindex="0" loading="lazy"><figcaption>image-20220310144816793</figcaption></figure><figure><img src="http://img.hl1015.top/blog/image-20220310144916279.png" alt="image-20220310144916279" tabindex="0" loading="lazy"><figcaption>image-20220310144916279</figcaption></figure><h3 id="_3-4-将镜像推送到阿里云" tabindex="-1"><a class="header-anchor" href="#_3-4-将镜像推送到阿里云" aria-hidden="true">#</a> 3.4 将镜像推送到阿里云</h3><blockquote><p>根据上面最后一步获取到的脚本：</p><figure><img src="http://img.hl1015.top/blog/image-20220310145240610.png" alt="image-20220310145240610" tabindex="0" loading="lazy"><figcaption>image-20220310145240610</figcaption></figure></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> login <span class="token parameter variable">--username</span><span class="token operator">=</span>hl422**** registry.cn-hangzhou.aliyuncs.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> tag <span class="token punctuation">[</span>ImageId<span class="token punctuation">]</span> registry.cn-hangzhou.aliyuncs.com/hl1015/myubuntu:<span class="token punctuation">[</span>镜像版本号<span class="token punctuation">]</span>
<span class="token function">docker</span> push registry.cn-hangzhou.aliyuncs.com/hl1015/myubuntu:<span class="token punctuation">[</span>镜像版本号<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="http://img.hl1015.top/blog/image-20220310150024651.png" alt="image-20220310150024651" tabindex="0" loading="lazy"><figcaption>image-20220310150024651</figcaption></figure><p>推送成功后，可以看到阿里云控制台-镜像仓库-镜像版本中就有了我们刚才推送的镜像</p><figure><img src="http://img.hl1015.top/blog/image-20220310150242340.png" alt="image-20220310150242340" tabindex="0" loading="lazy"><figcaption>image-20220310150242340</figcaption></figure><h2 id="_4-将阿里云上的镜像下载到本地" tabindex="-1"><a class="header-anchor" href="#_4-将阿里云上的镜像下载到本地" aria-hidden="true">#</a> 4.将阿里云上的镜像下载到本地</h2><figure><img src="http://img.hl1015.top/blog/image-20220310150635404.png" alt="image-20220310150635404" tabindex="0" loading="lazy"><figcaption>image-20220310150635404</figcaption></figure><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull registry.cn-hangzhou.aliyuncs.com/hl1015/myubuntu:<span class="token punctuation">[</span>镜像版本号<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="http://img.hl1015.top/blog/image-20220310150743891.png" alt="image-20220310150743891" tabindex="0" loading="lazy"><figcaption>image-20220310150743891</figcaption></figure>`,24);function u(m,h){const e=t("ExternalLinkIcon");return s(),g("div",null,[c,a("blockquote",null,[a("p",null,[a("a",p,[o("阿里云-上云就上阿里云 (aliyun.com)"),l(e)])])]),d])}const b=n(r,[["render",u],["__file","docker-basic-5.html.vue"]]);export{b as default};
