import{_ as i,E as o,Z as l,$ as r,a0 as s,a1 as n,a3 as e,a5 as t}from"./framework-1fb77053.js";const p={},c=t('<ul><li>Redis 是一个开源的 key-value 存储系统</li><li>和 Memcache 相比，它支持存储的 value 类型相对更多，包括 string（字符串）、list（链表）、set（集合）、zset（sorted set --- 有序集合）和 hash（哈希类型），这些数据类型都支持 push/pop、add/remove、取交集、并集和差集以及更丰富的操作，而且这些操作都是原子性的，在此基础上，Redis 支持各种不同方式的排序</li><li>与 Memcached 一样，为了保证效率，数据都是缓存在内存中，不同的是 Redis 会周期性地把更新的数据写入磁盘或者把修改操作写入追加的记录文件，并且在此基础上实现了 master-slave（主从）同步</li></ul><h2 id="_1-应用场景" tabindex="-1"><a class="header-anchor" href="#_1-应用场景" aria-hidden="true">#</a> 1. 应用场景</h2><h3 id="_1-1-配合关系型数据库做高速缓存" tabindex="-1"><a class="header-anchor" href="#_1-1-配合关系型数据库做高速缓存" aria-hidden="true">#</a> 1.1 配合关系型数据库做高速缓存</h3><ul><li>高频次、热门访问的数据，降低数据库 IO</li><li>分布式架构，做 session 共享</li></ul><figure><img src="http://img.hl1015.top/blog/image-20211116143030593.png" alt="image-20211116143030593" tabindex="0" loading="lazy"><figcaption>image-20211116143030593</figcaption></figure><h3 id="_1-2-多样的数据结构存储持久化数据" tabindex="-1"><a class="header-anchor" href="#_1-2-多样的数据结构存储持久化数据" aria-hidden="true">#</a> 1.2 多样的数据结构存储持久化数据</h3><ul><li><span style="color:blue;"><strong>最新 N 个数据</strong></span> ===》 通过 list 实现自然时间排序的数据</li><li><span style="color:blue;"><strong>排行榜，Top N</strong></span> ===》 利用 zset（有序集合）</li><li><span style="color:blue;"><strong>时效性数据，比如手机验证码</strong></span> ===》 Expire 过期</li><li><span style="color:blue;"><strong>计数器，秒杀</strong></span> ===》 原子性，自增方法 INCR、DECR</li><li><span style="color:blue;"><strong>去除大量数据中的重复数据</strong></span> ===》 利用 set 集合</li><li><span style="color:blue;"><strong>构建队列</strong></span> ===》 利用 list 集合</li><li><span style="color:blue;"><strong>发布订阅消息系统</strong></span> ===》 pub/sub 模式</li></ul><h2 id="_2-redis-安装" tabindex="-1"><a class="header-anchor" href="#_2-redis-安装" aria-hidden="true">#</a> 2. Redis 安装</h2>',8),d={href:"https://redis.io",target:"_blank",rel:"noopener noreferrer"},u=s("img",{src:"http://img.hl1015.top/blog/image-20211116143859716.png",alt:"image-20211116143859716",loading:"lazy"},null,-1),m={href:"http://redis.cn",target:"_blank",rel:"noopener noreferrer"},b=s("img",{src:"http://img.hl1015.top/blog/image-20211116143918022.png",alt:"image-20211116143918022",loading:"lazy"},null,-1),g=t(`<h3 id="_2-1-安装版本" tabindex="-1"><a class="header-anchor" href="#_2-1-安装版本" aria-hidden="true">#</a> 2.1 安装版本</h3><ul><li>6.2.1 for Linux（redis-6.2.1.tar.gz）</li><li>不用考虑在 windows 环境下对 Redis 的支持</li></ul><h3 id="_2-2-安装步骤" tabindex="-1"><a class="header-anchor" href="#_2-2-安装步骤" aria-hidden="true">#</a> 2.2 安装步骤</h3><p><strong>（1）准备工作：下载安装最新版的 gcc 编译器</strong></p><ul><li><p>安装 C 语言的编译环境（如果没有）</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 有网的情况下</span>
yum <span class="token function">install</span> gcc-c++
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查看 gcc 版本</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ ~<span class="token punctuation">]</span><span class="token comment"># gcc --version</span>
gcc <span class="token punctuation">(</span>GCC<span class="token punctuation">)</span> <span class="token number">8.4</span>.1 <span class="token number">20200928</span> <span class="token punctuation">(</span>Red Hat <span class="token number">8.4</span>.1-1<span class="token punctuation">)</span>
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2018</span> Free Software Foundation, Inc.
This is <span class="token function">free</span> software<span class="token punctuation">;</span> see the <span class="token builtin class-name">source</span> <span class="token keyword">for</span> copying conditions.  There is NO
warranty<span class="token punctuation">;</span> not even <span class="token keyword">for</span> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p><strong>（2）下载 redis-6.2.1.tar.gz 放到 /opt/module 目录</strong></p>`,6),k={href:"https://pan.baidu.com/s/1klr1yO7CRe3ERRRRuFFDzg",target:"_blank",rel:"noopener noreferrer"},v=t(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ module<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/opt/module
<span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ module<span class="token punctuation">]</span><span class="token comment"># ll</span>
total <span class="token number">951360</span>
drwxr-xr-x <span class="token number">6</span> root root       <span class="token number">134</span> Sep <span class="token number">27</span> <span class="token number">13</span>:08 apache-zookeeper-3.5.7-bin
-rw-r--r-- <span class="token number">1</span> root root <span class="token number">971743744</span> Nov <span class="token number">15</span> <span class="token number">10</span>:58 gitlab-ce-14.4.2-ce.0.el8.x86_64.rpm
-rwxr-xr-x <span class="token number">1</span> root root       <span class="token number">409</span> Nov <span class="token number">15</span> <span class="token number">10</span>:59 gitlab-install.sh
-rw-r--r-- <span class="token number">1</span> root root   <span class="token number">2438367</span> Nov <span class="token number">16</span> <span class="token number">15</span>:03 redis-6.2.1.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>（3）解压安装包</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ module<span class="token punctuation">]</span><span class="token comment"># tar -zxvf redis-6.2.1.tar.gz -C /opt/software/</span>
redis-6.2.1/
redis-6.2.1/.github/
redis-6.2.1/.github/ISSUE_TEMPLATE/
<span class="token punctuation">..</span>.
redis-6.2.1/utils/whatisdoing.sh
<span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ module<span class="token punctuation">]</span><span class="token comment"># </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>（4）解压完成后进入目录</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ module<span class="token punctuation">]</span><span class="token comment"># cd /opt/software</span>
<span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ software<span class="token punctuation">]</span><span class="token comment"># ll</span>
total <span class="token number">11508</span>
-rw-r--r--  <span class="token number">1</span> root root  <span class="token number">9311744</span> Sep <span class="token number">27</span> <span class="token number">13</span>:02 apache-zookeeper-3.5.7-bin.tar.gz
drwxr-xr-x <span class="token number">10</span> <span class="token number">8980</span> <span class="token function">users</span>     <span class="token number">258</span> Oct  <span class="token number">8</span> 09:17 FastDFS
-rw-r--r--  <span class="token number">1</span> root root    <span class="token number">17510</span> Oct  <span class="token number">8</span> 08:42 fastdfs-nginx-module_v1.16.tar.gz
-rw-r--r--  <span class="token number">1</span> root root   <span class="token number">345400</span> Oct  <span class="token number">8</span> 08:42 FastDFS_v5.05.tar.gz
drwxrwxr-x  <span class="token number">3</span> root root      <span class="token number">102</span> Oct  <span class="token number">8</span> 08:48 libfastcommon-1.0.7
-rw-r--r--  <span class="token number">1</span> root root    <span class="token number">73148</span> Oct  <span class="token number">8</span> 08:42 libfastcommonV1.0.7.tar.gz
lrwxrwxrwx  <span class="token number">1</span> root root       <span class="token number">38</span> Oct  <span class="token number">8</span> <span class="token number">16</span>:08 ltmain.sh -<span class="token operator">&gt;</span> /usr/share/libtool/build-aux/ltmain.sh
-rw-r--r--  <span class="token number">1</span> root root   <span class="token number">981687</span> Oct  <span class="token number">8</span> 08:42 nginx-1.12.2.tar.gz
-rw-r--r--  <span class="token number">1</span> root root  <span class="token number">1039530</span> Oct  <span class="token number">8</span> <span class="token number">13</span>:52 nginx-1.18.0.tar.gz
drwxrwxr-x  <span class="token number">7</span> root root     <span class="token number">4096</span> Mar  <span class="token number">2</span>  <span class="token number">2021</span> redis-6.2.1 <span class="token comment"># 解压后的文件</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>（5）在 redis-6.2.1 目录下执行 make 命令（只是编译好）</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ redis-6.2.1<span class="token punctuation">]</span><span class="token comment"># make</span>
<span class="token builtin class-name">cd</span> src <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> all
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Entering directory <span class="token string">&#39;/opt/software/redis-6.2.1/src&#39;</span>
    CC Makefile.dep
<span class="token punctuation">..</span>.
Hint: It<span class="token string">&#39;s a good idea to run &#39;</span><span class="token function">make</span> <span class="token builtin class-name">test</span><span class="token string">&#39; ;)

make[1]: Leaving directory &#39;</span>/opt/software/redis-6.2.1/src&#39;
<span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ redis-6.2.1<span class="token punctuation">]</span><span class="token comment"># </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：如果没有准备好 C 语言编译环境，make 会报错—Jemalloc/jemalloc.h：没有那个文件</p><p><strong>（6）跳过 make test，执行 make install</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ redis-6.2.1<span class="token punctuation">]</span><span class="token comment"># make install</span>
<span class="token builtin class-name">cd</span> src <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Entering directory <span class="token string">&#39;/opt/software/redis-6.2.1/src&#39;</span>
<span class="token punctuation">..</span>.
Hint: It<span class="token string">&#39;s a good idea to run &#39;</span><span class="token function">make</span> <span class="token builtin class-name">test</span><span class="token string">&#39; ;)

    INSTALL install
    INSTALL install
    INSTALL install
make[1]: Leaving directory &#39;</span>/opt/software/redis-6.2.1/src&#39;
<span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ redis-6.2.1<span class="token punctuation">]</span><span class="token comment"># </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-安装目录-usr-local-bin" tabindex="-1"><a class="header-anchor" href="#_2-3-安装目录-usr-local-bin" aria-hidden="true">#</a> 2.3 安装目录 /usr/local/bin</h3><p>查看默认安装目录：</p><table><thead><tr><th style="text-align:center;">文件</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;">redis-benchmark</td><td style="text-align:center;">性能测试工具，可以在自己本子运行，看看自己本子性能如何</td></tr><tr><td style="text-align:center;">redis-check-aof</td><td style="text-align:center;">修复有问题的 AOF 文件</td></tr><tr><td style="text-align:center;">redis-check-dump</td><td style="text-align:center;">修复有问题的 dump.rdb 文件</td></tr><tr><td style="text-align:center;">redis-sentinel</td><td style="text-align:center;">Redis 集群使用</td></tr><tr><td style="text-align:center;">redis-server</td><td style="text-align:center;">Redis 服务器启动命令</td></tr><tr><td style="text-align:center;">redis-cli</td><td style="text-align:center;">客户端，操作入口</td></tr></tbody></table><h3 id="_2-4-前台启动-不推荐" tabindex="-1"><a class="header-anchor" href="#_2-4-前台启动-不推荐" aria-hidden="true">#</a> 2.4 前台启动（不推荐）</h3><p>前台启动，命令行窗口不能关闭，否则服务器停止</p><figure><img src="http://img.hl1015.top/blog/image-20211116152620601.png" alt="image-20211116152620601" tabindex="0" loading="lazy"><figcaption>image-20211116152620601</figcaption></figure><h3 id="_2-5-后台启动-推荐" tabindex="-1"><a class="header-anchor" href="#_2-5-后台启动-推荐" aria-hidden="true">#</a> 2.5 后台启动（<span style="color:red;">推荐</span>）</h3><p><strong>（1）备份 redis.conf</strong></p><p>拷贝一份 redis.conf 到其他目录</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cp</span> /opt/software/redis-6.2.1/redis.conf /myredis/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>（2）后台启动设置 daemonize no 改成 yes</strong></p><p>修改 /myredis/redis.conf 文件，将里面的 daemonize no 改成 yes，让服务在后台启动</p><p><strong>（3）Redis 启动</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ bin<span class="token punctuation">]</span><span class="token comment"># redis-server /myredis/redis.conf</span>
<span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ bin<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep redis</span>
root      <span class="token number">812851</span>       <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">15</span>:41 ?        00:00:00 redis-server <span class="token number">127.0</span>.0.1:6379
root      <span class="token number">812965</span>  <span class="token number">803067</span>  <span class="token number">0</span> <span class="token number">15</span>:42 pts/1    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>（4） 使用客户端访问</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ bin<span class="token punctuation">]</span><span class="token comment"># redis-cli</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>（5）存在多个端口时，可以指定端口访问</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>redis-cli <span class="token parameter variable">-p</span> <span class="token number">6379</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>（6）测试验证：ping</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">ping</span>
PONG
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>（7）Redis 关闭</strong></p><ul><li><p>单实例关闭</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ bin<span class="token punctuation">]</span><span class="token comment"># redis-server /myredis/redis.conf </span>
<span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ bin<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep redis</span>
root      <span class="token number">814164</span>       <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">15</span>:53 ?        00:00:00 redis-server <span class="token number">127.0</span>.0.1:6379
root      <span class="token number">814186</span>  <span class="token number">803067</span>  <span class="token number">0</span> <span class="token number">15</span>:54 pts/1    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto redis
<span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ bin<span class="token punctuation">]</span><span class="token comment"># redis-cli shutdown</span>
<span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ bin<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep redis</span>
root      <span class="token number">814204</span>  <span class="token number">803067</span>  <span class="token number">0</span> <span class="token number">15</span>:54 pts/1    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>也可以进入终端后再关闭</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">shutdown</span>
not connected<span class="token operator">&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>多实例关闭，指定端口关闭</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ bin<span class="token punctuation">]</span><span class="token comment"># redis-server /myredis/redis.conf </span>
<span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ bin<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep redis</span>
root      <span class="token number">814164</span>       <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">15</span>:53 ?        00:00:00 redis-server <span class="token number">127.0</span>.0.1:6379
root      <span class="token number">814186</span>  <span class="token number">803067</span>  <span class="token number">0</span> <span class="token number">15</span>:54 pts/1    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto redis
<span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ bin<span class="token punctuation">]</span><span class="token comment"># redis-cli -p 6379 shutdown</span>
<span class="token punctuation">[</span>root@iZbp1he64xoa8bsarsqawsZ bin<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep redis</span>
root      <span class="token number">814204</span>  <span class="token number">803067</span>  <span class="token number">0</span> <span class="token number">15</span>:54 pts/1    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p><strong>（8）使用 Another Redis Desktop Manager 客户端 连接</strong></p><ul><li><p>在配置文件中设置密码，找到 requirepass 参数，后面跟的就是我们想要设置的密码</p><ul><li><img src="http://img.hl1015.top/blog/image-20211116171830478.png" alt="image-20211116171830478" tabindex="0" loading="lazy"><figcaption>image-20211116171830478</figcaption></li></ul></li><li><p>注释掉配置文件中的 <code>bind 127.0.0.1 -::1</code></p><ul><li><img src="http://img.hl1015.top/blog/image-20211116172637721.png" alt="image-20211116172637721" tabindex="0" loading="lazy"><figcaption>image-20211116172637721</figcaption></li></ul></li><li><p>重启 Redis</p></li><li><p>打开 Another Redis Desktop Manager，新建连接</p><ul><li><figure><img src="http://img.hl1015.top/blog/image-20211116173120046.png" alt="image-20211116173120046" tabindex="0" loading="lazy"><figcaption>image-20211116173120046</figcaption></figure></li><li><p>连接成功</p><figure><img src="http://img.hl1015.top/blog/image-20211116173153286.png" alt="image-20211116173153286" tabindex="0" loading="lazy"><figcaption>image-20211116173153286</figcaption></figure></li></ul></li></ul><h3 id="_2-6-redis-相关知识介绍" tabindex="-1"><a class="header-anchor" href="#_2-6-redis-相关知识介绍" aria-hidden="true">#</a> 2.6 Redis 相关知识介绍</h3><p><strong>（1）端口 6379 从何而来</strong></p><p>下面这张图可以解释一下，Merz 全名 Alessia Merz，是意大利的一位广告女郎，对应的当时手机上的按键数字</p><img src="http://img.hl1015.top/blog/image-20211116160221355.png" alt="image-20211116160221355" style="zoom:50%;"><p><strong>（2）默认 16 个数据库，类似数组下标从 0 开始，初始默认使用 0 号库</strong></p><ul><li>可以使用命令 <code>select &lt;dbid&gt;</code> 来切换数据库，如：select 8</li><li>统一密码管理，所有库同样密码</li><li><code>dbsize</code> 查看当前数据库的 key 的数量</li><li><code>flushdb</code> 清空当前库</li><li><code>flushall</code> 通杀全部库</li></ul><p><strong>（3）Redis 是单线程 + 多路 IO 复用技术</strong></p><p>多路复用是指使用一个线程来检查多个文件描述符（Socket）的就绪状态，比如调用 select 和 poll 函数，传入多个文件描述符，如果有一个文件描述符就绪，就返回，否则阻塞直到超时。得到就绪状态后进行真正的操作可以在同一个线程里执行，也可以启动线程执行（比如使用线程池）。</p><blockquote><p>串行 vs 多线程 + 锁（memcached） vs 单线程 + 多路 IO 复用（Redis）</p><p>【与 Memcached 三点不同：支持多数据类型，支持持久化，单线程 + 多线程 IO 复用】</p><figure><img src="http://img.hl1015.top/blog/image-20211116161649500.png" alt="image-20211116161649500" tabindex="0" loading="lazy"><figcaption>image-20211116161649500</figcaption></figure></blockquote>`,43);function h(f,x){const a=o("ExternalLinkIcon");return l(),r("div",null,[c,s("ul",null,[s("li",null,[n("Redis 官方网址："),s("a",d,[n("https://redis.io"),e(a)]),u]),s("li",null,[n("Redis 中文官方网址："),s("a",m,[n("https://redis.cn"),e(a)]),b])]),g,s("ul",null,[s("li",null,[n("链接："),s("a",k,[n("https://pan.baidu.com/s/1klr1yO7CRe3ERRRRuFFDzg"),e(a)]),n(" 提取码：tefs")])]),v])}const _=i(p,[["render",h],["__file","redis-2.html.vue"]]);export{_ as default};
