import{_ as s,Z as n,$ as a,a5 as e}from"./framework-1fb77053.js";const l={},p=e(`<h2 id="_1-系统变量" tabindex="-1"><a class="header-anchor" href="#_1-系统变量" aria-hidden="true">#</a> 1. 系统变量</h2><h3 id="_1-1-说明" tabindex="-1"><a class="header-anchor" href="#_1-1-说明" aria-hidden="true">#</a> 1.1 说明</h3><p>变量由系统提供，不是用户定义，属于服务器层面</p><h3 id="_1-2-分类" tabindex="-1"><a class="header-anchor" href="#_1-2-分类" aria-hidden="true">#</a> 1.2 分类</h3><ul><li><strong>全局变量</strong><ul><li>作用域：服务器每次启动将为所有的全局变量赋初始值，全局变量针对于所有的会话(连接)有效，但是不能跨重启，每次重启服务器后会根据配置文件的配置来进行系统变量的初始赋值</li></ul></li><li><strong>会话变量</strong><ul><li>作用域：仅仅针对于当前会话(连接)有效</li></ul></li></ul><h3 id="_1-3-语法" tabindex="-1"><a class="header-anchor" href="#_1-3-语法" aria-hidden="true">#</a> 1.3 语法</h3><blockquote><p><strong>注意</strong>：如果是全局级别，则需要加 GLOBAL，如果是会话级别，则需要加 SESSION 或者不写（不写默认为SESSION）</p></blockquote><p>（1）查看所有的系统变量</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">GLOBAL</span><span class="token operator">|</span>【<span class="token keyword">SESSION</span>】 VARIABLES<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>（2）查看满足条件的部分系统变量</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">GLOBAL</span><span class="token operator">|</span>【<span class="token keyword">SESSION</span>】 VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;%char%&#39;</span><span class="token punctuation">;</span><span class="token comment"># 举例</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>（3）查看指定的某个系统变量的值</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> @<span class="token variable">@global</span><span class="token operator">|</span>【<span class="token keyword">session</span>】<span class="token punctuation">.</span>系统变量名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>（4）为某个系统变量赋值</p><p>①方式一</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">set</span> <span class="token keyword">GLOBAL</span><span class="token operator">|</span>【<span class="token keyword">SESSION</span>】 系统变量名 <span class="token operator">=</span> 值<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>②方式二</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">set</span> @<span class="token variable">@global</span><span class="token operator">|</span>【<span class="token keyword">session</span>】<span class="token punctuation">.</span>系统变量名 <span class="token operator">=</span> 值<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_2-自定义变量" tabindex="-1"><a class="header-anchor" href="#_2-自定义变量" aria-hidden="true">#</a> 2. 自定义变量</h2><h3 id="_2-1-说明" tabindex="-1"><a class="header-anchor" href="#_2-1-说明" aria-hidden="true">#</a> 2.1 说明</h3><p>变量是由用户自定义的，不是系统的</p><h3 id="_2-2-使用步骤" tabindex="-1"><a class="header-anchor" href="#_2-2-使用步骤" aria-hidden="true">#</a> 2.2 使用步骤</h3><p>（1）声明</p><p>（2）赋值</p><p>（3）使用：查看、比较、运算等</p><h3 id="_2-3-分类" tabindex="-1"><a class="header-anchor" href="#_2-3-分类" aria-hidden="true">#</a> 2.3 分类</h3><p><strong>（1）用户变量</strong></p><ul><li><p>作用域：针对于当前会话（连接）优先，可以应用在任何地方，也就是 begin end 里面或者 begin end 外面</p></li><li><p>使用步骤：</p><ul><li><p>①声明并初始化</p><ul><li><p>赋值操作符：= 或 :=</p></li><li><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SET</span> @用户变量名<span class="token operator">=</span>值<span class="token punctuation">;</span>
<span class="token keyword">SET</span> @用户变量名:<span class="token operator">=</span>值<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> @用户变量名:<span class="token operator">=</span>值<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>②赋值或更新</p><ul><li><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>方式一：通过<span class="token keyword">SET</span>或<span class="token keyword">SELECT</span>
    <span class="token keyword">SET</span> @用户变量名<span class="token operator">=</span>值<span class="token punctuation">;</span>
    <span class="token keyword">SET</span> @用户变量名:<span class="token operator">=</span>值<span class="token punctuation">;</span>
    <span class="token keyword">SELECT</span> @用户变量名:<span class="token operator">=</span>值<span class="token punctuation">;</span>
    
方式二：通过<span class="token keyword">SELECT</span> <span class="token keyword">INTO</span>
    <span class="token keyword">SELECT</span> 字段 <span class="token keyword">INTO</span> 用户变量名
    <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>③使用</p><ul><li><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> @用户变量名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li></ul></li><li><p>案例</p><ul><li><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 声明并初始化</span>
<span class="token keyword">SET</span> <span class="token variable">@count</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment"># 赋值</span>
<span class="token keyword">USE</span> myemployees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">INTO</span> <span class="token variable">@count</span>
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
<span class="token comment"># 使用（查看）</span>
<span class="token keyword">SELECT</span> <span class="token variable">@count</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><p><strong>（2）局部变量</strong></p><ul><li><p>作用域：仅仅定义在它的 begin end 中有效，并且必须应用在 begin end 中的第一句话!!!</p></li><li><p>使用步骤：</p><ul><li><p>①声明并初始化</p><ul><li><p>赋值操作符：DECLARE</p></li><li><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">DECLARE</span> 变量名 类型<span class="token punctuation">;</span>
<span class="token keyword">DECLARE</span> 变量名 类型 <span class="token keyword">DEFAULT</span> 值<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>②赋值或更新</p><ul><li><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>方式一：通过<span class="token keyword">SET</span>或<span class="token keyword">SELECT</span>
    <span class="token keyword">SET</span> 局部变量名<span class="token operator">=</span>值<span class="token punctuation">;</span>
    <span class="token keyword">SET</span> 局部变量名:<span class="token operator">=</span>值<span class="token punctuation">;</span>
    <span class="token keyword">SELECT</span> @局部变量名:<span class="token operator">=</span>值<span class="token punctuation">;</span>
    
方式二：通过<span class="token keyword">SELECT</span> <span class="token keyword">INTO</span>
    <span class="token keyword">SELECT</span> 字段 <span class="token keyword">INTO</span> 局部变量名
    <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>③使用</p><ul><li><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> @局部变量名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li></ul></li></ul><p><strong>（3）对比用户变量和局部变量</strong></p><table><thead><tr><th>变量类型</th><th>作用域</th><th>定义和使用的位置</th><th>语法</th></tr></thead><tbody><tr><td>用户变量</td><td>当前会话</td><td>会话中的任何位置</td><td>必须加@符号，不用限定类型</td></tr><tr><td>局部变量</td><td>BEGIN END中</td><td>只能在 BEGIN END 中，且为第一句话</td><td>一般不用加@符号，需要限制类型</td></tr></tbody></table>`,32),i=[p];function t(d,o){return n(),a("div",null,i)}const r=s(l,[["render",t],["__file","mysql-basic-12.html.vue"]]);export{r as default};
