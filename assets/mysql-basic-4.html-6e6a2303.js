import{_ as s,Z as a,$ as e,a2 as t,a5 as n}from"./framework-1fb77053.js";const p={},i=n(`<h2 id="_1-概述" tabindex="-1"><a class="header-anchor" href="#_1-概述" aria-hidden="true">#</a> 1. 概述</h2><h3 id="_1-1-概念" tabindex="-1"><a class="header-anchor" href="#_1-1-概念" aria-hidden="true">#</a> 1.1 概念</h3><p>类似 Java 中的方法，将一组逻辑语句封装在方法体中，对外暴露方法名</p><h3 id="_1-2-好处" tabindex="-1"><a class="header-anchor" href="#_1-2-好处" aria-hidden="true">#</a> 1.2 好处</h3><ul><li>隐藏了实现细节</li><li>提高了代码的重用性</li></ul><h3 id="_1-3-调用" tabindex="-1"><a class="header-anchor" href="#_1-3-调用" aria-hidden="true">#</a> 1.3 调用</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 函数名<span class="token punctuation">(</span>实参列表<span class="token punctuation">)</span> 【<span class="token keyword">FROM</span> 表名】
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-4-需要了解" tabindex="-1"><a class="header-anchor" href="#_1-4-需要了解" aria-hidden="true">#</a> 1.4 需要了解</h3><ul><li>叫什么(函数名)</li><li>干什么(函数功能)</li></ul><h3 id="_1-5-分类" tabindex="-1"><a class="header-anchor" href="#_1-5-分类" aria-hidden="true">#</a> 1.5 分类</h3><ul><li>单行函数 <ul><li>如 CONCAT、LENGTH、IFNULL 等</li></ul></li><li>分组函数 <ul><li>功能：做统计使用，又称为统计函数、聚合函数，组函数</li></ul></li></ul><h2 id="_2-详细介绍" tabindex="-1"><a class="header-anchor" href="#_2-详细介绍" aria-hidden="true">#</a> 2. 详细介绍</h2><h3 id="_2-1-单行函数" tabindex="-1"><a class="header-anchor" href="#_2-1-单行函数" aria-hidden="true">#</a> 2.1 单行函数</h3><h4 id="_1、字符函数" tabindex="-1"><a class="header-anchor" href="#_1、字符函数" aria-hidden="true">#</a> 1、字符函数</h4><p><strong>（1）LENGTH(str)：获取参数值 str 的字节长度</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> LENGTH<span class="token punctuation">(</span><span class="token string">&#39;john&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> LENGTH<span class="token punctuation">(</span><span class="token string">&#39;张三hahaha&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910083924008.png" alt="image-20210910083924008" tabindex="0" loading="lazy"><figcaption>image-20210910083924008</figcaption></figure><p>可以通过如下语句查看当前客户端、服务端等的字符集编码格式</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;%character%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910084028720.png" alt="image-20210910084028720" tabindex="0" loading="lazy"><figcaption>image-20210910084028720</figcaption></figure><p><strong>（2）CONCAT(str1,str2,...)：拼接字符串</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	CONCAT<span class="token punctuation">(</span> last_name<span class="token punctuation">,</span> <span class="token string">&quot;_&quot;</span><span class="token punctuation">,</span> first_name <span class="token punctuation">)</span> <span class="token keyword">AS</span> 姓名 
<span class="token keyword">FROM</span>
	employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910084603815.png" alt="image-20210910084603815" tabindex="0" loading="lazy"><figcaption>image-20210910084603815</figcaption></figure><p><strong>（3）UPPER(str)、LOWER(str) --- UPPER(str)：将 str 转换为大写、LOWER(str)：将 str 转换为小写</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;john&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> LOWER<span class="token punctuation">(</span><span class="token string">&#39;JOHN&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910084850237.png" alt="image-20210910084850237" tabindex="0" loading="lazy"><figcaption>image-20210910084850237</figcaption></figure><p>示例：将姓变大写，名变小写，然后拼接</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	CONCAT<span class="token punctuation">(</span>
		UPPER<span class="token punctuation">(</span> last_name <span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token string">&quot;_&quot;</span><span class="token punctuation">,</span>
	LOWER<span class="token punctuation">(</span> first_name <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 姓名
<span class="token keyword">FROM</span>
	employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210911164139064.png" alt="image-20210911164139064" tabindex="0" loading="lazy"><figcaption>image-20210911164139064</figcaption></figure><p><strong>（4）SUBSTR、SUBSTRING：两个函数的作用相同，SUBSTR 是 SUBSTRING 的缩写形式</strong></p><blockquote><p><strong><span style="color:red;">注：索引从1开始</span></strong></p></blockquote><p>①SUBSTR(str,pos)：截取从 pos 索引处开始往后的所有字符</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> SUBSTR<span class="token punctuation">(</span><span class="token string">&#39;李莫愁爱上了陆展元&#39;</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&quot;out put&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910085248638.png" alt="image-20210910085248638" tabindex="0" loading="lazy"><figcaption>image-20210910085248638</figcaption></figure><p>②SUBSTR(str,pos,len)：截取从 pos 索引处开始往后 len 个字符长度的字符</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> SUBSTR<span class="token punctuation">(</span><span class="token string">&#39;李莫愁爱上了陆展元&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&quot;out put&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910085403117.png" alt="image-20210910085403117" tabindex="0" loading="lazy"><figcaption>image-20210910085403117</figcaption></figure><p>示例：姓中首字符大写，其他字符小写，然后用_拼接，显示出来</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	CONCAT<span class="token punctuation">(</span>
		UPPER<span class="token punctuation">(</span>
		SUBSTR<span class="token punctuation">(</span> last_name<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token string">&quot;_&quot;</span><span class="token punctuation">,</span>
		LOWER<span class="token punctuation">(</span>
		SUBSTR<span class="token punctuation">(</span> last_name<span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&quot;out put&quot;</span> 
<span class="token keyword">FROM</span>
	employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210911164254391.png" alt="image-20210911164254391" tabindex="0" loading="lazy"><figcaption>image-20210911164254391</figcaption></figure><p><strong>（5）INSTR(str,substr)：返回 substr 在 str 中第一次出现的起始索引，如果找不到就返回 0</strong></p><p>①找得到的情况</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> INSTR<span class="token punctuation">(</span><span class="token string">&#39;hkw爱上了小李子&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;小李子&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&quot;out put&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910085759254.png" alt="image-20210910085759254" tabindex="0" loading="lazy"><figcaption>image-20210910085759254</figcaption></figure><p>②找不到的情况</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> INSTR<span class="token punctuation">(</span><span class="token string">&#39;hkw爱上了小李子&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;小子&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&quot;out put&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910085852961.png" alt="image-20210910085852961" tabindex="0" loading="lazy"><figcaption>image-20210910085852961</figcaption></figure><p><strong>（6）TRIM(【remstr FROM】 str)：默认去掉前后空格，也可自己指定去掉的内容，格式：内容 + FROM + &#39;要操作的字符&#39;</strong></p><p>①默认情况</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> LENGTH<span class="token punctuation">(</span>TRIM<span class="token punctuation">(</span><span class="token string">&#39;    哈哈哈    &#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&quot;out put&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910090103065.png" alt="image-20210910090103065" tabindex="0" loading="lazy"><figcaption>image-20210910090103065</figcaption></figure><p>②指定去掉的内容</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> TRIM<span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span> <span class="token keyword">FROM</span> <span class="token string">&#39;aaaaaaaaaa哈哈哈aaaaaaa&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&quot;out put&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910090142872.png" alt="image-20210910090142872" tabindex="0" loading="lazy"><figcaption>image-20210910090142872</figcaption></figure><p><strong>（7）LPAD(str,len,padstr)：用指定的字符 padstr 实现左填充到指定长度len</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> LPAD<span class="token punctuation">(</span><span class="token string">&#39;小李子&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&quot;out put&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910090323517.png" alt="image-20210910090323517" tabindex="0" loading="lazy"><figcaption>image-20210910090323517</figcaption></figure><p>如果指定的长度小于原字符长度，则会截取原字符到指定长度(从后往前截取)</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> LPAD<span class="token punctuation">(</span><span class="token string">&#39;小李子&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&quot;out put&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910090358175.png" alt="image-20210910090358175" tabindex="0" loading="lazy"><figcaption>image-20210910090358175</figcaption></figure><p><strong>（8）RPAD(str,len,padstr)：用指定的字符 padstr 实现右填充到指定长度 len</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> RPAD<span class="token punctuation">(</span><span class="token string">&#39;小李子&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&quot;out put&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910090600707.png" alt="image-20210910090600707" tabindex="0" loading="lazy"><figcaption>image-20210910090600707</figcaption></figure><p>同样，如果指定的长度小于原字符长度，则会截取原字符到指定长度(从后往前截取)</p><p><strong>（9）REPLACE(str,from_str,to_str)：使用 to_str 替换掉 str 中的 from_str</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">REPLACE</span><span class="token punctuation">(</span><span class="token string">&#39;张无忌爱上了周芷若&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;周芷若&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;赵敏&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&quot;out put&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910090712828.png" alt="image-20210910090712828" tabindex="0" loading="lazy"><figcaption>image-20210910090712828</figcaption></figure><h4 id="_2、数学函数" tabindex="-1"><a class="header-anchor" href="#_2、数学函数" aria-hidden="true">#</a> 2、数学函数</h4><p><strong>（1）ROUND</strong></p><p>ROUND(X)：四舍五入</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">1.65</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.55</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910090903149.png" alt="image-20210910090903149" tabindex="0" loading="lazy"><figcaption>image-20210910090903149</figcaption></figure><p>ROUND(X,D)：小数点后保留 D 位</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">1.567</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910091009819.png" alt="image-20210910091009819" tabindex="0" loading="lazy"><figcaption>image-20210910091009819</figcaption></figure><p><strong>（2）CEIL(X)：向上取整：返回&gt;=X的最小整数</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CEIL<span class="token punctuation">(</span><span class="token number">1.45</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> CEIL<span class="token punctuation">(</span><span class="token number">1.00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> CEIL<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.55</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910091115398.png" alt="image-20210910091115398" tabindex="0" loading="lazy"><figcaption>image-20210910091115398</figcaption></figure><p><strong>（3）FLOOR(X)：向下取整：返回&lt;=X的最大整数</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> FLOOR<span class="token punctuation">(</span><span class="token number">9.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> FLOOR<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">9.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910091247560.png" alt="image-20210910091247560" tabindex="0" loading="lazy"><figcaption>image-20210910091247560</figcaption></figure><p><strong>（4）TRUNCATE(X,D)：截短，小数点后保留 D 位</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">TRUNCATE</span><span class="token punctuation">(</span><span class="token number">1.65</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910091501262.png" alt="image-20210910091501262" tabindex="0" loading="lazy"><figcaption>image-20210910091501262</figcaption></figure><p><strong>（5）MOD(N,M)</strong></p><p>取余：本质是 N - N/M*M</p><p>口诀：和 Java 中一样，N 是正，结果也为正，N 为负，结果也为负</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">MOD</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">MOD</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">MOD</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">MOD</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910091626662.png" alt="image-20210910091626662" tabindex="0" loading="lazy"><figcaption>image-20210910091626662</figcaption></figure><p><strong>（6）RAND()</strong></p><p>获取随机数，返回 [0,1) 之间的小数</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> RAND<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910091747573.png" alt="image-20210910091747573" tabindex="0" loading="lazy"><figcaption>image-20210910091747573</figcaption></figure><h4 id="_3、日期函数" tabindex="-1"><a class="header-anchor" href="#_3、日期函数" aria-hidden="true">#</a> 3、日期函数</h4><p><strong>（1）NOW()：返回当前系统 日期 + 时间</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910091922755.png" alt="image-20210910091922755" tabindex="0" loading="lazy"><figcaption>image-20210910091922755</figcaption></figure><p><strong>（2）CURDATE()：返回当前系统 日期，不包含 时间</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910092020718.png" alt="image-20210910092020718" tabindex="0" loading="lazy"><figcaption>image-20210910092020718</figcaption></figure><p><strong>（3）CURTIME()：返回当前系统 时间，不包含 日期</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CURTIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910092122566.png" alt="image-20210910092122566" tabindex="0" loading="lazy"><figcaption>image-20210910092122566</figcaption></figure><p><strong>（4）获取指定的部分：年、月、日、时、分、秒</strong></p><p><strong>YEAR(date)</strong>：传入一个日期，会获取到里边的年份</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 年<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token string">&#39;1996-8-11&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 年<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>hiredate<span class="token punctuation">)</span> <span class="token keyword">AS</span> 年 <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910092308719.png" alt="image-20210910092308719" tabindex="0" loading="lazy"><figcaption>image-20210910092308719</figcaption></figure><p><strong>MONTH(date)</strong>：传入一个日期，会获取到里边的月份</p><p><strong>MONTHNAME(date)</strong>：传入一个日期，会获取到里边的月份的英文名</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 月<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> MONTHNAME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 月<span class="token punctuation">;</span> <span class="token comment"># 获取月份的英文名</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910092427275.png" alt="image-20210910092427275" tabindex="0" loading="lazy"><figcaption>image-20210910092427275</figcaption></figure>`,139),l=n(`<p><strong>（5）STR_TO_DATE(str,format)：将字符 str 通过指定的格式 format 转换成日期</strong></p><table><thead><tr><th style="text-align:left;">序号</th><th style="text-align:left;">格式符</th><th style="text-align:left;">功能</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>1</strong></td><td style="text-align:left;"><strong>%Y</strong></td><td style="text-align:left;"><strong>四位的年份</strong></td></tr><tr><td style="text-align:left;"><strong>2</strong></td><td style="text-align:left;"><strong>%y</strong></td><td style="text-align:left;"><strong>两位的年份</strong></td></tr><tr><td style="text-align:left;"><strong>3</strong></td><td style="text-align:left;"><strong>%m</strong></td><td style="text-align:left;"><strong>月份（01 , 02 , ... , 11 , 12）</strong></td></tr><tr><td style="text-align:left;"><strong>4</strong></td><td style="text-align:left;"><strong>%c</strong></td><td style="text-align:left;"><strong>月份（1 , 2 , ... , 11 , 12）</strong></td></tr><tr><td style="text-align:left;"><strong>5</strong></td><td style="text-align:left;"><strong>%d</strong></td><td style="text-align:left;"><strong>日（01 , 02 , ...）</strong></td></tr><tr><td style="text-align:left;"><strong>6</strong></td><td style="text-align:left;"><strong>%H</strong></td><td style="text-align:left;"><strong>小时（24 小时制）</strong></td></tr><tr><td style="text-align:left;"><strong>7</strong></td><td style="text-align:left;"><strong>%h</strong></td><td style="text-align:left;"><strong>小时（12 小时制）</strong></td></tr><tr><td style="text-align:left;"><strong>8</strong></td><td style="text-align:left;"><strong>%i</strong></td><td style="text-align:left;"><strong>分钟（00 , 01 , ... , 59）</strong></td></tr><tr><td style="text-align:left;"><strong>9</strong></td><td style="text-align:left;"><strong>%s</strong></td><td style="text-align:left;"><strong>秒（00 , 01 , ... , 59）</strong></td></tr></tbody></table><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> STR_TO_DATE<span class="token punctuation">(</span><span class="token string">&#39;1998-8-11&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;%Y-%c-%d&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 日期<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910093431999.png" alt="image-20210910093431999" tabindex="0" loading="lazy"><figcaption>image-20210910093431999</figcaption></figure><p>示例：查询入职日期为1992-4-3的员工信息</p><blockquote><p>假设 &#39;4-3 1992&#39; 这里用了格式乱序或者不对的业务场景：</p><p>因为可能在 web 前端页面用户传过来的字符串日期不是完完全全地按照日期的格式，所以我们有必要通过STR_TO_DATE() 这个函数进行转换</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	employees 
<span class="token keyword">WHERE</span>
	hiredate <span class="token operator">=</span> STR_TO_DATE<span class="token punctuation">(</span> <span class="token string">&#39;4-3 1992&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;%c-%d %Y&#39;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910093709291.png" alt="image-20210910093709291" tabindex="0" loading="lazy"><figcaption>image-20210910093709291</figcaption></figure><p><strong>（6）DATE_FORMAT(date,format)：将日期通过指定的格式 format 转换成字符</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;%y年%m月%d日&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 日期<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910094014888.png" alt="image-20210910094014888" tabindex="0" loading="lazy"><figcaption>image-20210910094014888</figcaption></figure><p>示例：查询有奖金的员工名和入职日期(xx月/xx日/ xx年)</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	last_name <span class="token keyword">AS</span> 员工名<span class="token punctuation">,</span>
	DATE_FORMAT<span class="token punctuation">(</span> hiredate<span class="token punctuation">,</span> <span class="token string">&#39;%m月/%d/ %Y&#39;</span> <span class="token punctuation">)</span> <span class="token keyword">AS</span> 入职日期 
<span class="token keyword">FROM</span>
	employees 
<span class="token keyword">WHERE</span>
	commission_pct <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910094105790.png" alt="image-20210910094105790" tabindex="0" loading="lazy"><figcaption>image-20210910094105790</figcaption></figure><p><strong>（7）DATEDIFF(expr1,expr2)：计算日期 expr1 和日期 expr2 之间的相差天数，expr1 大于 expr2</strong></p><p>示例：查询员工表中最大入职时间和最小入职时间的相差天数</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> DATEDIFF<span class="token punctuation">(</span><span class="token function">MAX</span><span class="token punctuation">(</span>hiredate<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>hiredate<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910094231336.png" alt="image-20210910094231336" tabindex="0" loading="lazy"><figcaption>image-20210910094231336</figcaption></figure><h4 id="_4、流程控制函数" tabindex="-1"><a class="header-anchor" href="#_4、流程控制函数" aria-hidden="true">#</a> 4、流程控制函数</h4><p><strong>（1）IF(expr1,expr2,expr3)</strong></p><p>类似 Java 中的 if else 和 三元表达式 的效果</p><p>判断的 expr1 的值，如果为 true，则返回 expr2 的值，如果为 false，则返回 expr3 的值</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;是&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;否&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&quot;5&gt;2 吗&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910094914612.png" alt="image-20210910094914612" tabindex="0" loading="lazy"><figcaption>image-20210910094914612</figcaption></figure><p>示例：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	last_name<span class="token punctuation">,</span>
	commission_pct<span class="token punctuation">,</span>
<span class="token keyword">IF</span>
	<span class="token punctuation">(</span> commission_pct <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token string">&#39;没奖金，呵呵&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;有奖金，哈哈&#39;</span> <span class="token punctuation">)</span> 
<span class="token keyword">FROM</span>
	employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910094952308.png" alt="image-20210910094952308" tabindex="0" loading="lazy"><figcaption>image-20210910094952308</figcaption></figure><p><strong>（2）CASE</strong></p><p><strong>CASE 函数的使用姿势一</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">/*
类似于 Java 中的 switch...case
switch(变量或表达式) {
	case 常量值1 : 语句1;break;
	...
	default : 语句;break;
}
*/</span>

<span class="token comment"># MySQL中</span>
<span class="token keyword">CASE</span> 要判断的字段或表达式
    <span class="token keyword">WHEN</span> 常量值<span class="token number">1</span> <span class="token keyword">THEN</span> 要显示的值<span class="token number">1</span>或语句<span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">WHEN</span> 常量值<span class="token number">2</span> <span class="token keyword">THEN</span> 要显示的值<span class="token number">2</span>或语句<span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">ELSE</span> 要显示的值n或语句n<span class="token punctuation">;</span>
<span class="token keyword">END</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">/*
	示例：查询员工的工资，要求：
		部门编号=30，显示的工资为1.1倍，
		部门编号=40，显示的工资为1.2倍，
		部门编号=50，显示的工资为1.3倍，
		其他部门，显示的工资为原工资
*/</span>
<span class="token keyword">SELECT</span> salary <span class="token keyword">AS</span> 原始工资<span class="token punctuation">,</span>department_id<span class="token punctuation">,</span>
<span class="token keyword">CASE</span> department_id
	<span class="token keyword">WHEN</span> <span class="token number">30</span> <span class="token keyword">THEN</span> salary<span class="token operator">*</span><span class="token number">1.1</span>
	<span class="token keyword">WHEN</span> <span class="token number">40</span> <span class="token keyword">THEN</span> salary<span class="token operator">*</span><span class="token number">1.2</span>
	<span class="token keyword">WHEN</span> <span class="token number">50</span> <span class="token keyword">THEN</span> salary<span class="token operator">*</span><span class="token number">1.3</span>
<span class="token keyword">ELSE</span> salary
<span class="token keyword">END</span> <span class="token keyword">AS</span> 新工资
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910095412121.png" alt="image-20210910095412121" tabindex="0" loading="lazy"><figcaption>image-20210910095412121</figcaption></figure><p><strong>CASE函数的使用姿势二</strong></p><p>类似于 Java 中的 多重if</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">/*
类似于Java中的 多重if
if(条件1) {
	语句1;
} else if(条件2) {
	语句2;
}
... 
else {
	语句n;
}
*/</span>

<span class="token comment"># MySQL中</span>
<span class="token keyword">CASE</span>
    <span class="token keyword">WHEN</span> 条件<span class="token number">1</span> <span class="token keyword">THEN</span> 要显示的值<span class="token number">1</span>或语句<span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">WHEN</span> 条件<span class="token number">2</span> <span class="token keyword">THEN</span> 要显示的值<span class="token number">2</span>或语句<span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">ELSE</span> 要显示的值n或语句n<span class="token punctuation">;</span>
<span class="token keyword">END</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 查询员工工资的情况</span>
<span class="token comment">/*
	如果工资&gt;20000,显示A级别
	如果工资&gt;15000,显示B级别
	如果工资&gt;10000,显示C级别
	否则，显示D级别
*/</span>
<span class="token keyword">SELECT</span> salary <span class="token keyword">AS</span> 工资<span class="token punctuation">,</span>
<span class="token keyword">CASE</span>
    <span class="token keyword">WHEN</span> salary<span class="token operator">&gt;</span><span class="token number">20000</span> <span class="token keyword">THEN</span> <span class="token string">&#39;A&#39;</span>
    <span class="token keyword">WHEN</span> salary<span class="token operator">&gt;</span><span class="token number">15000</span> <span class="token keyword">THEN</span> <span class="token string">&#39;B&#39;</span>
    <span class="token keyword">WHEN</span> salary<span class="token operator">&gt;</span><span class="token number">10000</span> <span class="token keyword">THEN</span> <span class="token string">&#39;C&#39;</span>
    <span class="token keyword">ELSE</span> <span class="token string">&#39;D&#39;</span>
<span class="token keyword">END</span> <span class="token keyword">AS</span> 工资级别
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910095712535.png" alt="image-20210910095712535" tabindex="0" loading="lazy"><figcaption>image-20210910095712535</figcaption></figure><h4 id="_5、其他函数【补充】" tabindex="-1"><a class="header-anchor" href="#_5、其他函数【补充】" aria-hidden="true">#</a> 5、其他函数【补充】</h4><p><strong>（1）VERSION()：查看数据库版本号</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> VERSION<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910094356107.png" alt="image-20210910094356107" tabindex="0" loading="lazy"><figcaption>image-20210910094356107</figcaption></figure><p><strong>（2）DATABASE()：查看当前数据库</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DATABASE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910094444073.png" alt="image-20210910094444073" tabindex="0" loading="lazy"><figcaption>image-20210910094444073</figcaption></figure><p><strong>（3）USER()：查看当前用户</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910094523054.png" alt="image-20210910094523054" tabindex="0" loading="lazy"><figcaption>image-20210910094523054</figcaption></figure><p><strong>（4）MD5(str)：返回 str 的 MD5 加密形式</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> MD5<span class="token punctuation">(</span><span class="token string">&#39;hkw&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910094630944.png" alt="image-20210910094630944" tabindex="0" loading="lazy"><figcaption>image-20210910094630944</figcaption></figure><blockquote><p>PASSWORD(str)：返回 str 的密码形式</p></blockquote><h3 id="_2-2-分组函数" tabindex="-1"><a class="header-anchor" href="#_2-2-分组函数" aria-hidden="true">#</a> 2.2 分组函数</h3><h4 id="_1、功能" tabindex="-1"><a class="header-anchor" href="#_1、功能" aria-hidden="true">#</a> 1、功能</h4><p>做统计使用，又称为统计函数、聚合函数、组函数</p><h4 id="_2、分类" tabindex="-1"><a class="header-anchor" href="#_2、分类" aria-hidden="true">#</a> 2、分类</h4><p><strong>SUM 求和、AVG 平均值、MAX 最大值、MIN 最小值、COUNT 计算个数（非空字段）</strong></p><h4 id="_3、特点" tabindex="-1"><a class="header-anchor" href="#_3、特点" aria-hidden="true">#</a> 3、特点</h4><ul><li>SUM、AVG 一般用于处理数值型，MAX、MIN、COUNT 可以处理任何类型</li><li>以上分组函数都忽略 NULL 值</li><li>可以和 DISTINCT 搭配实现去重的运算</li><li><strong>一般使用 COUNT(*) 用作统计行数</strong></li><li><strong>和分组函数一同查询的字段要求是 GROUP BY 后的字段</strong></li></ul><h4 id="_4、示例" tabindex="-1"><a class="header-anchor" href="#_4、示例" aria-hidden="true">#</a> 4、示例</h4><p><strong>（1）简单使用</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">AS</span> 工资之和 <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">AS</span> 工资平均值 <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">AS</span> 工资最大值 <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">AS</span> 工资最小值 <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">AS</span> 统计个数 <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910100512598.png" alt="image-20210910100512598" tabindex="0" loading="lazy"><figcaption>image-20210910100512598</figcaption></figure><p>放到一个查询语句使用</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token function">SUM</span><span class="token punctuation">(</span> salary <span class="token punctuation">)</span> <span class="token keyword">AS</span> 工资之和<span class="token punctuation">,</span>
	<span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">AVG</span><span class="token punctuation">(</span> salary <span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 工资平均值<span class="token punctuation">,</span>
	<span class="token function">MAX</span><span class="token punctuation">(</span> salary <span class="token punctuation">)</span> <span class="token keyword">AS</span> 工资最大值<span class="token punctuation">,</span>
	<span class="token function">MIN</span><span class="token punctuation">(</span> salary <span class="token punctuation">)</span> <span class="token keyword">AS</span> 工资最小值<span class="token punctuation">,</span>
	<span class="token function">COUNT</span><span class="token punctuation">(</span> salary <span class="token punctuation">)</span> <span class="token keyword">AS</span> 统计个数 
<span class="token keyword">FROM</span>
	employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910100626313.png" alt="image-20210910100626313" tabindex="0" loading="lazy"><figcaption>image-20210910100626313</figcaption></figure><p><strong>（2）和 DISTINCT 搭配使用</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span> <span class="token comment"># 计算所有不同工资的总和</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span> <span class="token comment"># 计算有几种工资情况</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果如下：</p><figure><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910100740117.png" alt="image-20210910100740117" tabindex="0" loading="lazy"><figcaption>image-20210910100740117</figcaption></figure><p><strong>（3）COUNT 函数的详细介绍</strong></p><ul><li><p>作用：统计行数</p></li><li><p>方式一</p><ul><li><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询结果如下：</p><ul><li><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910100855793.png" alt="image-20210910100855793" tabindex="0" loading="lazy"><figcaption>image-20210910100855793</figcaption></li></ul></li></ul></li><li><p>方式二</p><ul><li><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询结果如下：</p><ul><li><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910100922866.png" alt="image-20210910100922866" tabindex="0" loading="lazy"><figcaption>image-20210910100922866</figcaption></li></ul></li></ul></li><li><p>方式三</p><ul><li><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询结果如下：</p><ul><li><img src="https://pet-hkw.oss-cn-shenzhen.aliyuncs.com/image/new_blog_system/mysql/image-20210910100946175.png" alt="image-20210910100946175" tabindex="0" loading="lazy"><figcaption>image-20210910100946175</figcaption></li></ul></li></ul></li><li><p><strong>效率问题</strong></p><ul><li>MYISAM 存储引擎下，COUNT(*) 的效率最高（内部有个计数器，使用 COUNT(*) 可以直接返回行数）</li><li>INNODB 存储引擎下，COUNT(*) 和 COUNT(1) 的效率差不多，比 COUNT(字段) 的效率要高（需要判断非空）</li></ul></li></ul>`,86);function o(c,u){return a(),e("div",null,[i,t("剩下的(日DAY、时HOUR、分MINUTE、秒SECOND)都一样的用法"),l])}const r=s(p,[["render",o],["__file","mysql-basic-4.html.vue"]]);export{r as default};
